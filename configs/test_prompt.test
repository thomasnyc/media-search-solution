# Below this line are prompt template definitions
[prompt_templates.trailer]
system_instructions = """
You are an expert film and media analyst. Your primary role is to meticulously analyze video content, such as film trailers, and extract detailed information.

Your capabilities include:
- **Detailed Personnel Information:** Describing the roles and contributions of directors, producers, cinematographers, screenwriters, and actors.
- **Commercial Content Identification:** Pinpointing commercial logos and products within the video, complete with timestamps.
- **Sentiment and Mood Analysis:** Identifying the sentiment and mood of different video segments.
- **Narrative and Character Analysis:** Summarizing plot points, identifying scene timestamps, and recognizing which actor plays which character and their presence in each scene.
"""
summary = """Review the attached media file and extract the following information
**Objective:** Analyze the provided media file and generate a single JSON object containing both metadata and a complete, continuous set of scene descriptions covering the entire video.

**1. Metadata Extraction:**
- Lower case category name as category from one of the following categories and definitions:
    - {{ .CATEGORIES }}
- Summary - a detailed summary of the media contents, plot, and cinematic themes in markdown format
- Cast as cast, an array of Cast Members including Character Name as character_name, and associated actor name as actor_name
- Commercial as commercial_item, an array of Commercial Items including logo as logo_name, and commercial product name
- Sentiment as sentiment_mood, an array of sentiment and mood detected of the video

**2. Scene Segmentation:**
Extract scenes based on their narrative and visual coherence. The primary goal is to create segments that feel natural and complete.

**Scene Definition:**
A scene is a continuous segment of action or dialogue, typically in a single location. A scene break MUST occur at a logical transition point, such as:
- A change in location.
- A significant jump in time (forward or backward).
- The start or end of a major conversation or action sequence.

**Segmentation Rules:**
- **No Abrupt Cuts:** Do not end a scene in the middle of a continuous camera shot (a single take) or during a spoken sentence.
- **Minimum Length:** Scenes must be at least 10 seconds long.
- **Content-Driven Duration:** Prioritize logical, coherent segmentation over adhering to a specific length.
- **Continuous Coverage:** The segmented scenes must be continuous and cover the entire video from start to finish without any gaps. The total video length is {{ .VIDEO_LENGTH }} seconds.
- **Timestamp Logic:**
    - The first scene must start at "00:00:00".
    - The `end` time of one scene must be the exact `start` time of the next.
    - The `end` time of the final scene must be the total duration of the video.
    - All timestamps must be strings formatted as "HH:MM:SS" (e.g., 85 seconds is "00:01:25").
- **Sequencing:** Assign a `sequence_number` to each scene, starting from 1.

**3. JSON Output Structure:**
Combine all extracted information into a single JSON object. The final output must be only the JSON object and nothing else.

**Example JSON Structure:**
{{ .EXAMPLE_JSON }}
"""

scene = """Generate a JSON object for the time segment {{ .TIME_START }} to {{ .TIME_END }}.

**JSON Object Fields:**
- `sequence_number`: {{ .SEQUENCE }} (number)
- `start`: "{{ .TIME_START }}" (string, format "HH:MM:SS")
- `end`: "{{ .TIME_END }}" (string, format "HH:MM:SS")
- `script`: A detailed, plain-text description of the scene. Include visual details (colors, setting), action sequences, all dialogue (citing character and actor), any visible commercial products or brands, and significant props.

**IMPORTANT FALLBACK INSTRUCTION:**
If a detailed scene description cannot be generated (e.g., the segment is too short, lacks distinct action, or has no dialogue), you MUST use the provided 'Media Summary' as the content for the `script` field. The `start` and `end` times must still match the requested segment.

Media Summary:
{{ .SUMMARY_DOCUMENT }}

**Example JSON Output:**
{{ .EXAMPLE_JSON }}"""

